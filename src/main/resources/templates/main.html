<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

    <p th:text="Hello +' '+${currentUser.getUsername()}">

    <form th:action="@{/main}" th:object="${newPost}" method="post">
        <label><input type="text" th:field="*{text}" placeholder="Write what you think..."/></label>
        <input type="submit" value="Post!"/>
    </form>

    <div th:each="post : ${posts}">
        <h3 th:text="${post.userCreator.username}"></h3>
        <h4 th:text="${post.creationDate}"></h4>
        <span th:text="${post.text}"></span>
        <div th:each="comment : ${post.comments}">
            <h5 th:text="${comment.creatorUser.username}"></h5>
            <h6 th:text="${comment.creationDate}"></h6>
            <span th:text="${comment.text}"></span>
        </div>
        <form th:action="@{'/mai/' + ${post.id}}" th:object="${newComment}" method="post">
            <input type="text" th:field="*{text}" placeholder="Comment"/>
            <input type="submit" value="Comment!">
        </form>
    </div>
</body>
</html>